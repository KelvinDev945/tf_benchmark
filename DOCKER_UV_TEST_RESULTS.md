# Docker Environment Test - uv Package Manager

**æµ‹è¯•æ—¥æœŸ**: 2025-11-09
**Dockeré•œåƒ**: tf-cpu-benchmark:uv
**æµ‹è¯•ç›®çš„**: éªŒè¯ä½¿ç”¨uvä¼˜åŒ–åçš„Dockerç¯å¢ƒæ€§èƒ½

---

## æµ‹è¯•ç¯å¢ƒ

### ç³»ç»Ÿä¿¡æ¯
- **Platform**: Linux-6.8.0-79-generic-x86_64
- **Architecture**: x86_64
- **Python**: 3.11.0rc1

### è½¯ä»¶ç‰ˆæœ¬
- **TensorFlow**: 2.20.0
- **NumPy**: 1.26.4
- **ONNX Runtime**: 1.23.2
- **TensorFlow Hub**: 0.16.1
- **OpenVINO**: Available âœ“

### Dockerä¼˜åŒ–
- âœ… ä½¿ç”¨ **uv** åŒ…ç®¡ç†å™¨æ›¿ä»£pip (10-100x faster)
- âœ… TFLite runtimeå¤„ç†ä¸ºå¯é€‰ (Python 3.11å…¼å®¹æ€§)
- âœ… ç§»é™¤Transformersä¾èµ–ï¼Œä½¿ç”¨TensorFlow Hub
- âœ… ä¼˜åŒ–åŒ…å®‰è£…æµç¨‹

---

## æµ‹è¯•ç»“æœ

### MobileNetV2 æ¨ç†æ€§èƒ½

**æµ‹è¯•é…ç½®**:
- æ¨¡å‹: MobileNetV2 (ImageNet weights)
- Batch size: 1
- æµ‹è¯•æ ·æœ¬æ•°: 20
- è¾“å…¥å½¢çŠ¶: (1, 224, 224, 3)

**æ€§èƒ½æŒ‡æ ‡**:

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| å¹³å‡å»¶è¿Ÿ (mean) | 85.80 ms |
| ä¸­ä½å»¶è¿Ÿ (median) | 85.78 ms |
| å»¶è¿Ÿæ ‡å‡†å·® | 2.37 ms |
| æœ€å°å»¶è¿Ÿ | 80.68 ms |
| æœ€å¤§å»¶è¿Ÿ | 90.46 ms |
| P50 å»¶è¿Ÿ | 85.78 ms |
| P95 å»¶è¿Ÿ | 89.85 ms |
| P99 å»¶è¿Ÿ | 90.34 ms |
| **ååé‡** | **11.66 samples/sec** |

---

## ä¸ä¹‹å‰ç»“æœå¯¹æ¯”

### ä¹‹å‰çš„æµ‹è¯• (results/results.json)
- **Engine**: TensorFlow Baseline (ä¼ ç»Ÿpipå®‰è£…)
- **å¹³å‡å»¶è¿Ÿ**: 173.00 ms
- **ååé‡**: 5.78 samples/sec

### å½“å‰æµ‹è¯• (uv Docker)
- **Engine**: TensorFlow (uv Docker)
- **å¹³å‡å»¶è¿Ÿ**: 85.80 ms
- **ååé‡**: 11.66 samples/sec

### æ€§èƒ½æå‡

| æŒ‡æ ‡ | æå‡ |
|------|------|
| å»¶è¿Ÿé™ä½ | **2.02x faster** âš¡ |
| ååé‡æå‡ | **2.02x higher** ğŸš€ |

**æ³¨æ„**: æ€§èƒ½æå‡å¯èƒ½æ˜¯ç”±äºä¸åŒçš„æµ‹è¯•æ¡ä»¶ï¼ˆæµ‹è¯•æ ·æœ¬æ•°ã€warmupç­‰ï¼‰ï¼Œè€Œéä»…ç”±uvåŒ…ç®¡ç†å™¨å¸¦æ¥ã€‚å®é™…çš„uvä¼˜åŠ¿ä¸»è¦åœ¨Dockeræ„å»ºé€Ÿåº¦ä¸Šã€‚

---

## Dockeræ„å»ºæ€§èƒ½

### ä¼ ç»Ÿpipæ–¹å¼
- åŒ…å®‰è£…æ—¶é—´: çº¦ 60-120 ç§’
- æ€»æ„å»ºæ—¶é—´: çº¦ 3-5 åˆ†é’Ÿ

### uvåŒ…ç®¡ç†å™¨æ–¹å¼
- åŒ…å®‰è£…æ—¶é—´: **çº¦ 25 ç§’** âš¡
- æ€»æ„å»ºæ—¶é—´: **çº¦ 1-2 åˆ†é’Ÿ** ğŸš€

**æ„å»ºé€Ÿåº¦æå‡**: çº¦ **2-3x faster**

---

## åŠŸèƒ½éªŒè¯

âœ… **æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸**:
- uv package manager: Working âœ“
- TensorFlow: Working âœ“
- ONNX Runtime: Working âœ“
- TensorFlow Hub: Working âœ“
- OpenVINO: Available âœ“
- Model loading: Working âœ“
- Inference: Working âœ“
- Performance measurement: Working âœ“

---

## BERTæµ‹è¯•è¯´æ˜

**çŠ¶æ€**: âš ï¸ TensorFlow Hub BERTæ¨¡å‹åœ¨TF 2.20ä¸­å­˜åœ¨å…¼å®¹æ€§é—®é¢˜

**é—®é¢˜**:
- `KerasTensor` è½¬æ¢é”™è¯¯
- TensorFlow Hubçš„æŸäº›æ¨¡å‹ä¸TF 2.20ä¸å®Œå…¨å…¼å®¹

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨MobileNetç­‰å…¶ä»–æ¨¡å‹è¿›è¡Œæ€§èƒ½æµ‹è¯•
- è€ƒè™‘ä½¿ç”¨çº¯Keras BERTå®ç°
- æˆ–é™çº§åˆ°TF 2.15-2.19

---

## ç»“è®º

### ä¸»è¦æˆå°±
1. âœ… **Dockeré•œåƒæ„å»ºé€Ÿåº¦æå‡ 2-3å€**
2. âœ… **æ‰€æœ‰æ ¸å¿ƒä¾èµ–æ­£å¸¸å·¥ä½œ**
3. âœ… **MobileNetV2æ¨ç†æ€§èƒ½ä¼˜ç§€** (85.80mså¹³å‡å»¶è¿Ÿ)
4. âœ… **Python 3.11 å…¼å®¹æ€§è‰¯å¥½**

### Dockerä¼˜åŒ–ä¼˜åŠ¿
- **æ›´å¿«çš„CI/CD**: æ„å»ºæ—¶é—´å‡å°‘ 50-70%
- **æ›´å¥½çš„å¼€å‘ä½“éªŒ**: ä¾èµ–å®‰è£…å¿«é€Ÿ
- **ç°ä»£åŒ–å·¥å…·é“¾**: uvæ˜¯Rustç¼–å†™çš„æ–°ä¸€ä»£åŒ…ç®¡ç†å™¨

### å»ºè®®
1. æ¨èä½¿ç”¨uvä¼˜åŒ–ç‰ˆDockeré•œåƒç”¨äºç”Ÿäº§ç¯å¢ƒ
2. å¯¹äºBERTæµ‹è¯•ï¼Œè€ƒè™‘å…¶ä»–å®ç°æ–¹å¼
3. ç»§ç»­ç›‘æ§Python 3.11å’ŒTensorFlow 2.20çš„å…¼å®¹æ€§

---

**æµ‹è¯•æ‰§è¡Œ**: Dockerç¯å¢ƒæµ‹è¯•è„šæœ¬ (`scripts/test_docker_env.py`)
**ç»“æœæ–‡ä»¶**: `results/docker_uv_test/mobilenet_v2_results.json`
**æµ‹è¯•çŠ¶æ€**: âœ… é€šè¿‡
